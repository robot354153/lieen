<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Panel Série</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Exo:wght@300;400;600&display=swap');

    :root{
      --bg-0: #0a0b0d;
      --bg-1: #0f1216;
      --bg-2: #12161b;
      --txt: #e6f1ff;
      --muted: #9aa7b2;
      --accent: #4df3ff;
      --accent-2: #8a7dff;
      --glow: rgba(77,243,255,0.55);
      --radius: 14px;
      --gap: 16px;
      --tile-w: 180px;
      --tile-h: 64px;
      --seen-bg: rgba(138,125,255,0.10);
      --seen-border: rgba(138,125,255,0.55);
      --seen-text: #cfd2ff;
    }

    * { box-sizing: border-box; }

    body{
      margin: 0;
      min-height: 100svh;
      font-family: 'Exo', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, sans-serif;
      color: var(--txt);
      background:
        radial-gradient(1200px 800px at 70% 10%, #0e1320 0%, transparent 60%),
        radial-gradient(900px 700px at 20% 80%, #081118 0%, transparent 55%),
        linear-gradient(180deg, var(--bg-1), var(--bg-0) 40%, var(--bg-2));
      display: grid;
      place-items: center;
      padding: 32px 20px;
    }

    .shell{ width: min(1080px, 96vw); backdrop-filter: blur(6px); }

    header{ text-align: center; margin-bottom: 28px; }

    .badge{
      display: inline-flex; align-items: center; gap: 8px;
      color: var(--muted); font-size: 12px; letter-spacing: 0.14em; text-transform: uppercase;
      padding: 8px 12px; border: 1px solid rgba(255,255,255,0.06); border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      box-shadow: 0 0 0 1px rgba(255,255,255,0.02) inset;
    }

    h1{ margin: 12px 0 8px; font-size: clamp(22px, 4vw, 34px); font-weight: 600; letter-spacing: 0.02em; }

    .subtitle{ margin: 0; color: var(--muted); font-weight: 300; font-size: clamp(14px, 2vw, 16px); }

    .panel{ margin-top: 28px; display: grid; grid-template-columns: repeat(7, minmax(0, 1fr)); gap: var(--gap); }
    @media (max-width: 980px){ .panel{ grid-template-columns: repeat(4, 1fr); } }
    @media (max-width: 640px){ .panel{ grid-template-columns: repeat(2, 1fr); } }

    .tile{
      position: relative; display: grid; place-items: center;
      height: var(--tile-h); min-width: var(--tile-w);
      border-radius: var(--radius); text-decoration: none; color: var(--txt);
      border: 1px solid rgba(255,255,255,0.06);
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease, background .25s ease, color .25s ease;
      overflow: hidden; isolation: isolate;
    }

    .tile::before{
      content: ""; position: absolute; inset: 0;
      background: linear-gradient(120deg, transparent 0 30%, rgba(255,255,255,0.05) 45%, transparent 60% 100%);
      transform: translateX(-120%); transition: transform .6s ease; z-index: 0;
    }

    .tile span{
      position: relative; z-index: 1; font-weight: 600; letter-spacing: 0.18em; font-size: 15px;
      color: #d9f7ff; text-shadow: 0 0 6px rgba(77,243,255,0.6);
    }

    .tile:hover{
      transform: translateY(-2px);
      border-color: rgba(77,243,255,0.55);
      box-shadow: 0 0 0 1px rgba(77,243,255,0.15) inset, 0 6px 22px -6px var(--glow), 0 0 32px -6px rgba(138,125,255,0.35);
      background:
        radial-gradient(120% 120% at 10% 0%, rgba(77,243,255,0.12), transparent 60%),
        radial-gradient(120% 140% at 95% 100%, rgba(138,125,255,0.10), transparent 55%),
        linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
    }
    .tile:hover::before{ transform: translateX(120%); }

    /* État vu (persistant) */
    .tile.seen{
      border-color: var(--seen-border);
      background:
        linear-gradient(180deg, rgba(138,125,255,0.08), rgba(138,125,255,0.04));
    }
    .tile.seen span{
      color: var(--seen-text);
      text-shadow: 0 0 6px rgba(138,125,255,0.6);
    }
    .tile.seen::after{
      content: "Vu";
      position: absolute;
      top: 8px; right: 25px;
      font-size: 10px; letter-spacing: 0.18em; text-transform: uppercase;
      color: var(--seen-text);
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(138,125,255,0.35);
      background: linear-gradient(180deg, rgba(138,125,255,0.12), rgba(138,125,255,0.06));
      box-shadow: 0 0 12px rgba(138,125,255,0.25);
    }

    .meta{
      margin-top: 20px; display: flex; justify-content: center; gap: 16px;
      color: var(--muted); font-size: 12px; flex-wrap: wrap;
    }
    .dot{ width: 6px; height: 6px; border-radius: 50%; background: linear-gradient(180deg, var(--accent), var(--accent-2)); box-shadow: 0 0 8px var(--glow); align-self: center; }

    footer{ margin-top: 28px; display: grid; place-items: center; color: var(--muted); font-size: 12px; }
    .hint{ opacity: .85; }

    /* Bouton reset */
    .actions{
      margin-top: 18px;
      display: flex;
      justify-content: center;
    }
    .reset-btn{
      appearance: none; cursor: pointer;
      background: transparent; color: var(--muted);
      border: 1px solid rgba(255,255,255,0.08);
      padding: 8px 12px; border-radius: 10px; font-size: 12px;
      transition: border-color .2s ease, color .2s ease, box-shadow .2s ease;
    }
    .reset-btn:hover{
      color: var(--txt);
      border-color: rgba(77,243,255,0.45);
      box-shadow: 0 0 0 1px rgba(77,243,255,0.15) inset, 0 0 18px -6px var(--glow);
    }
    .reset-btn:focus-visible{ outline: 2px solid var(--accent); outline-offset: 2px; }
  </style>
</head>
<body>
  <main class="shell" role="main">
    <header>
      <div class="badge" aria-hidden="true">Centre de visionnage</div>
      <h1>Mr Robot</h1>
      <p class="subtitle">Votre progression est enregistrée sur cet appareil.</p>
    </header>

    <section class="panel" aria-label="Navigation épisodes">
      <!-- Remplacer facilement les liens href -->
      <a class="tile" data-ep="07" href="https://8038958620dd3c067c7f55fd4bbc3a36.r2.cloudflarestorage.com/iphone7/SERIES/62560/VF/S04/07.mp4?X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=949cbdca5ed6f71e63a29a8d8c2ec708%2F20251001%2Fauto%2Fs3%2Faws4_request&X-Amz-Date=20251001T145813Z&X-Amz-SignedHeaders=host&X-Amz-Expires=43200&X-Amz-Signature=7a06ba1acf62de109d8fe5051d1b0c48ea4c1c175cdef4f72dd7369d955d39d0" target="_blank" rel="noopener noreferrer"><span>07</span></a>
      <a class="tile" data-ep="08" href="https://8038958620dd3c067c7f55fd4bbc3a36.r2.cloudflarestorage.com/iphone7/SERIES/62560/VF/S04/08.mp4?X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=949cbdca5ed6f71e63a29a8d8c2ec708%2F20251001%2Fauto%2Fs3%2Faws4_request&X-Amz-Date=20251001T145839Z&X-Amz-SignedHeaders=host&X-Amz-Expires=43200&X-Amz-Signature=53447808384038139be84228b2fa09b8de9b017bb07c9ed92ef5c3c8d3e9447c" target="_blank" rel="noopener noreferrer"><span>08</span></a>
      <a class="tile" data-ep="09" href="https://8038958620dd3c067c7f55fd4bbc3a36.r2.cloudflarestorage.com/iphone7/SERIES/62560/VF/S04/09.mp4?X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=949cbdca5ed6f71e63a29a8d8c2ec708%2F20251002%2Fauto%2Fs3%2Faws4_request&X-Amz-Date=20251002T131925Z&X-Amz-SignedHeaders=host&X-Amz-Expires=43200&X-Amz-Signature=0fc0823ada8316261dab0c86aae3018c36a97ea9f00b03f0741b1f051b73dd21" target="_blank" rel="noopener noreferrer"><span>09</span></a>
      <a class="tile" data-ep="10" href="https://8038958620dd3c067c7f55fd4bbc3a36.r2.cloudflarestorage.com/iphone7/SERIES/62560/VF/S04/10.mp4?X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=949cbdca5ed6f71e63a29a8d8c2ec708%2F20251002%2Fauto%2Fs3%2Faws4_request&X-Amz-Date=20251002T132034Z&X-Amz-SignedHeaders=host&X-Amz-Expires=43200&X-Amz-Signature=32bc3e578042447c45385c306fd2d1bbfcf74e8c227684f5c6f27a07b45e421d" target="_blank" rel="noopener noreferrer"><span>10</span></a>
      <a class="tile" data-ep="11" href="https://8038958620dd3c067c7f55fd4bbc3a36.r2.cloudflarestorage.com/iphone7/SERIES/62560/VF/S04/11.mp4?X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=949cbdca5ed6f71e63a29a8d8c2ec708%2F20251003%2Fauto%2Fs3%2Faws4_request&X-Amz-Date=20251003T131536Z&X-Amz-SignedHeaders=host&X-Amz-Expires=43200&X-Amz-Signature=f2b29a9a87f1d3f6cbfbb282946b8932e2d88f13a730814ecbf0a821b071f93d" target="_blank" rel="noopener noreferrer"><span>11</span></a>
      <a class="tile" data-ep="12" href="https://8038958620dd3c067c7f55fd4bbc3a36.r2.cloudflarestorage.com/iphone7/SERIES/62560/VF/S04/12.mp4?X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=949cbdca5ed6f71e63a29a8d8c2ec708%2F20251003%2Fauto%2Fs3%2Faws4_request&X-Amz-Date=20251003T131627Z&X-Amz-SignedHeaders=host&X-Amz-Expires=43200&X-Amz-Signature=76f1022a41ba66ac3365d6c32b6d7d7e98fc3a7088e86ed8a129cbc70ee490e4" target="_blank" rel="noopener noreferrer"><span>12</span></a>
      <a class="tile" data-ep="13" href="https://8038958620dd3c067c7f55fd4bbc3a36.r2.cloudflarestorage.com/iphone7/SERIES/62560/VF/S04/13.mp4?X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=949cbdca5ed6f71e63a29a8d8c2ec708%2F20251003%2Fauto%2Fs3%2Faws4_request&X-Amz-Date=20251003T131705Z&X-Amz-SignedHeaders=host&X-Amz-Expires=43200&X-Amz-Signature=0b2478c1db2d54b6ef3372b3dc45bc4bbd634541bc3c2ae7ca4b2aeaf46b065f" target="_blank" rel="noopener noreferrer"><span>13</span></a>
    </section>

    <div class="actions">
      <button class="reset-btn" type="button" id="resetProgress">Réinitialiser la progression</button>
    </div>

    <div class="meta" aria-hidden="true" id="meta">
      <span id="lastSeen">Dernière progression : —</span>
      <span class="dot"></span>
      <span>Qualité : 1080p</span>
      <span class="dot"></span>
      <span>Mode nuit activé</span>
    </div>

    <footer>
      <span class="hint">Astuce : clic sur un épisode → marqué comme “Vu” automatiquement.</span>
    </footer>
  </main>

  <script>
    (function(){
      const KEY = 'serie:episodes:vus';  // clé de stockage
      const LAST_KEY = 'serie:episodes:dernier';
      const panel = document.querySelector('.panel');
      const tiles = Array.from(panel.querySelectorAll('.tile'));
      const lastSeenEl = document.getElementById('lastSeen');
      const resetBtn = document.getElementById('resetProgress');

      // Charger l'état
      function loadState(){
        try{
          const raw = localStorage.getItem(KEY);
          const set = new Set(raw ? JSON.parse(raw) : []);
          tiles.forEach(t => {
            const ep = t.dataset.ep;
            if(set.has(ep)) t.classList.add('seen');
          });
          const last = localStorage.getItem(LAST_KEY);
          lastSeenEl.textContent = last ? 'Dernière progression : S01E' + last : 'Dernière progression : —';
        }catch(e){
          console.warn('LocalStorage indisponible', e);
        }
      }

      // Sauver l'état
      function saveSeen(ep){
        try{
          const raw = localStorage.getItem(KEY);
          const arr = raw ? JSON.parse(raw) : [];
          if(!arr.includes(ep)) arr.push(ep);
          localStorage.setItem(KEY, JSON.stringify(arr));
          localStorage.setItem(LAST_KEY, ep);
        }catch(e){
          console.warn('LocalStorage indisponible', e);
        }
      }

      // Marquer au clic et laisser le lien s’ouvrir
      tiles.forEach(t => {
        t.addEventListener('click', () => {
          const ep = t.dataset.ep;
          t.classList.add('seen');
          saveSeen(ep);
          lastSeenEl.textContent = 'Dernière progression : S01E' + ep;
        }, { passive: true });
      });

      // Reset progression
      resetBtn.addEventListener('click', () => {
        try{
          localStorage.removeItem(KEY);
          localStorage.removeItem(LAST_KEY);
          tiles.forEach(t => t.classList.remove('seen'));
          lastSeenEl.textContent = 'Dernière progression : —';
        }catch(e){
          console.warn('LocalStorage indisponible', e);
        }
      });

      loadState();
    })();
  </script>
</body>
</html>



